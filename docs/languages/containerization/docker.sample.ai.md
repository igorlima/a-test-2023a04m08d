---
layout: default
title: Docker - Samples - AI
nav_exclude: true
parent: Containerization
grand_parent: Programming Languages
permalink: /docs/languages/containerization/docker-samples-ai
---

__[back]({% link docs/languages/containerization/docker.sample.md %})__

AI copilot for knowledge base - to easily chat and search things  on top of personal notes and documents.

Merge AI with the brain.

## aichat

<details markdown="block">
  <summary>
    aichat <sub><i>all-in-one CLI tool for 10+ AI platforms</i></sub>
  </summary>

All-in-one CLI tool for 10+ AI platforms, including OpenAI, Gemini, Claude,
Mistral, LocalAI, Ollama, VertexAI, Ernie, Qianwen...
- [aichat Github](https://github.com/sigoden/aichat)
  - [config example](https://github.com/sigoden/aichat/blob/601288029dd7affa2115547a70c74b21d2003b66/config.example.yaml)

```yaml
# MY AICHAT CONFIG

# https://github.com/sigoden/aichat/blob/601288029dd7affa2115547a70c74b21d2003b66/config.example.yaml
#  `cat ~/.config/aichat/config.yaml`
#  `cat ~/Library/Application\ Support/aichat/config.yaml`
# $> aichat --info
# $> aichat --list-sessions

model: gemini          # LLM model

# temperature is a parameter that influences the “randomness” of the response
# generated by your language model. It typically ranges from 0 to 1, but in
# some instances, you can bring the temperature beyond 1.
temperature: 0.5       # GPT temperature, between 0 and 2

clients:
  # all clients configuration

  # see https://ai.google.dev/docs
  - type: gemini
    api_key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

  # login via Kindle Google Gmail
  # https://platform.openai.com/usage
  # https://platform.openai.com/account/api-keys
  # https://help.openai.com/
  - type: openai
    name: kindle-gmail
    api_key: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

```bash
# AICHAT Installation
# for rust programmer
cargo install aichat@0.14.0
cargo install aichat --list
# macOS homebrew or a linuxbrew user
brew install aichat
# for android Termux user
pkg install aichat
# ...
# https://github.com/sigoden/aichat
# https://github.com/sigoden/aichat/blob/main/config.example.yaml
# https://github.com/sigoden/aichat/blob/601288029dd7affa2115547a70c74b21d2003b66/config.example.yaml
#  `cat ~/.config/aichat/config.yaml`
#  `cat ~/Library/Application\ Support/aichat/config.yaml`
aichat --info
aichat --list-sessions
```

```bash
# Rust docker container
# https://hub.docker.com/_/rust
docker run \
  --name rust-learning --rm \
  --mount src=`realpath ~/Downloads/temp`,target=/home/local,type=bind \
  --workdir /home/local \
  -it rust:1.76-slim bash
```

<!-- aichat -->
</details>

## khoj

<details markdown="block">
  <summary>
    khoj <sub><i>a copilot to search and chat (using RAG) with your knowledge base (pdf, markdown, org)</i></sub>
  </summary>

Khoj is the open-source, AI copilot for your knowledge base. Easily build on
top of your personal notes and documents.
- [khoj home page](https://khoj.dev/)
  - [online app](https://app.khoj.dev/)
- About
  - An AI second brain. A copilot to search and chat (using RAG) with your knowledge base (pdf, markdown, org). Use powerful, online (e.g gpt4) or private, offline (e.g mistral) LLMs. Self-host locally or have it always accessible on the cloud. Access from Obsidian, Emacs, Desktop app, Web or Whatsapp

`docker-compose.yml`
```bash
# based on:
# https://github.com/khoj-ai/khoj/blob/1da453306edda3c9590779c2f8e2480eed66ca75/docker-compose.yml
#
# https://docs.khoj.dev/
# Self-Host
# $> docker-compose up
# $> docker-compose down
#  Khoj should be running at http://localhost:42110.
#  You can see the web UI in your browser.
#
# Uninstall Khoj Server
# $> docker-compose down --volumes
version: "3.9"
services:
  database:
    container_name: khoj-db
    hostname: khoj-db
    # https://hub.docker.com/r/ankane/pgvector/tags
    image: ankane/pgvector:v0.5.1
    ports:
      - "5432:5432"
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: postgres
    volumes:
      - khoj_db:/var/lib/postgresql/data/
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 30s
      timeout: 10s
      retries: 5
  server:
    container_name: khoj-server
    hostname: khoj-server
    depends_on:
      database:
        condition: service_healthy
    # Use the following line to use the latest version of khoj. Otherwise, it will build from source.
    # https://github.com/khoj-ai/khoj/pkgs/container/khoj
    image: ghcr.io/khoj-ai/khoj:1.6.2
    # Uncomment the following line to build from source. This will take a few minutes. Comment the next two lines out if you want to use the offiicial image.
    # build:
      # context: .
    ports:
      # If changing the local port (left hand side), no other changes required.
      # If changing the remote port (right hand side),
      #   change the port in the args in the build section,
      #   as well as the port in the command section to match
      - "42110:42110"
    working_dir: /app
    volumes:
      - khoj_config:/root/.khoj/
      - khoj_models:/root/.cache/torch/sentence_transformers
    # Use 0.0.0.0 to explicitly set the host ip for the service on the container. https://pythonspeed.com/articles/docker-connection-refused/
    environment:
      - POSTGRES_DB=postgres
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
      - POSTGRES_HOST=database
      - POSTGRES_PORT=5432
      - KHOJ_DJANGO_SECRET_KEY=secret
      - KHOJ_DEBUG=False
      - KHOJ_ADMIN_EMAIL=username@example.com
      - KHOJ_ADMIN_PASSWORD=password
    command: --host="0.0.0.0" --port=42110 -vv --anonymous-mode

volumes:
  khoj_config:
  khoj_db:
  khoj_models:
```

----
<br/>
<!-- khoj -->
</details>

---

[^1]: [...](...)
